<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Card üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #ffd6e8, #ffeef6);
  font-family: Arial, sans-serif;
}

.card {
  width: 360px;
  height: 520px;
  background: white;
  border-radius: 20px;
  position: relative;
  overflow: hidden;
  padding: 20px;
  text-align: center;
}

.top-text {
  font-weight: bold;
  font-size: 20px;
}

.sub-text {
  font-size: 14px;
  margin-bottom: 10px;
}

.heart {
  position: absolute;
  font-size: 26px;
  cursor: pointer;
  animation: fall 4s linear forwards;
}

@keyframes fall {
  from { top: -30px; }
  to { top: 520px; }
}

.counter {
  margin: 10px 0;
  font-weight: bold;
}

.question {
  display: none;
  margin-top: 30px;
}

.main-line {
  font-family: 'Baloo 2', cursive;
  font-size: 26px;
  margin-bottom: 10px;
}

.bracket-line {
  font-size: 14px;
  animation: wiggle 1.5s infinite;
}

@keyframes wiggle {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(1deg); }
  50% { transform: rotate(-1deg); }
  75% { transform: rotate(1deg); }
  100% { transform: rotate(0deg); }
}

.buttons {
  margin-top: 30px;
  position: relative;
  height: 120px;
}

button {
  padding: 12px 30px;
  border-radius: 30px;
  border: none;
  font-size: 16px;
  cursor: pointer;
}

#yesBtn {
  background: #ff4d88;
  color: white;
}

#noBtn {
  background: #ccc;
  position: absolute;
  left: 100px;
  top: 60px;
}

.final {
  display: none;
  height: 100%;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.yay {
  font-size: 40px;
  font-weight: bold;
  margin-bottom: 20px;
}

.love {
  font-size: 28px;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="card" id="card">
  <div class="top-text">Catch the hearts üíï</div>
  <div class="sub-text">(5 minimum)</div>

  <div class="counter" id="counter">Hearts caught: 0</div>

  <div class="question" id="question">
    <div class="main-line">Will you be my Valentine?</div>
    <div class="bracket-line">(Abhinav, say YES‚Ä¶ the NO button is scared anyway üòè)</div>

    <div class="buttons">
      <button id="yesBtn">YES</button>
      <button id="noBtn">NO</button>
    </div>
  </div>

  <div class="final" id="final">
    <div class="yay">Yayyy!!</div>
    <div class="love">I love you Tons</div>
  </div>
</div>

<script>
const card = document.getElementById("card");
const counter = document.getElementById("counter");
const question = document.getElementById("question");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const final = document.getElementById("final");

let heartsCaught = 0;
let gameDone = false;

function createHeart() {
  if (gameDone) return;

  const heart = document.createElement("div");
  heart.classList.add("heart");
  heart.innerText = "üíñ";
  heart.style.left = Math.random() * 300 + "px";

  card.appendChild(heart);

  heart.addEventListener("click", () => {
    heartsCaught++;
    counter.innerText = `Hearts caught: ${heartsCaught}`;

    if (heartsCaught === 5) {
      gameDone = true;
      heart.style.transition = "all 0.6s ease";
      heart.style.fontSize = "300px";
      heart.style.left = "-50px";
      heart.style.top = "-50px";
      heart.style.opacity = "0";

      setTimeout(() => {
        heart.remove();
        question.style.display = "block";
      }, 600);
    } else {
      heart.remove();
    }
  });

  setTimeout(() => heart.remove(), 4000);
}

setInterval(createHeart, 900);

/* NO button escape logic */
function moveNoButton() {
  const cardRect = card.getBoundingClientRect();
  const btnRect = noBtn.getBoundingClientRect();

  const maxX = cardRect.width - btnRect.width - 20;
  const maxY = cardRect.height - btnRect.height - 20;

  const x = Math.random() * maxX;
  const y = Math.random() * maxY;

  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
}

noBtn.addEventListener("mouseenter", moveNoButton);
noBtn.addEventListener("mouseover", moveNoButton);

/* YES click */
yesBtn.addEventListener("click", () => {
  card.style.background = "linear-gradient(135deg, #ff9acb, #ffd6e8)";
  question.style.display = "none";
  final.style.display = "flex";

  setTimeout(() => {
    document.querySelector(".yay").style.display = "none";
  }, 1500);
});
</script>

</body>
</html>

